From 74fa1c5ebe9b013ec608f38dd3291d54fe65a80b Mon Sep 17 00:00:00 2001
From: Fabien Spindler <Fabien.Spindler@inria.fr>
Date: Wed, 19 Feb 2014 16:53:05 +0100
Subject: [PATCH] Add install rule for package.xml, build as shared lib,
 disable testing

---
 CMakeLists.txt |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 12157e1..5793c2b 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -133,7 +133,7 @@ endif()
 #--------------------------------------------------------------------
 
 # Choose static or shared libraries.
-OPTION(BUILD_SHARED_LIBS "Build ViSP shared libraries (.dll/.so) instead of static ones (.lib/.a)." OFF)
+OPTION(BUILD_SHARED_LIBS "Build ViSP shared libraries (.dll/.so) instead of static ones (.lib/.a)." ON)
 # Build examples as an option.
 OPTION(BUILD_EXAMPLES "Build ViSP examples." ON)
 # Build demos as an option.
@@ -2197,11 +2197,16 @@ ELSE()
 ENDIF()
 
 #----------------------------------------------------------------------
+# Install catkin package.xml 
+#----------------------------------------------------------------------
+install(FILES package.xml DESTINATION share/visp)
+
+#----------------------------------------------------------------------
 # For Dart server and tests 
 # We use CDash set through CTestConfig.cmake file
 # Dashboards are sent to http://cdash.irisa.fr/CDash/index.php?project=ViSP
 #----------------------------------------------------------------------
-ENABLE_TESTING()
+#ENABLE_TESTING()
 INCLUDE(Dart)
 MARK_AS_ADVANCED(DART_ROOT)
 
-- 
1.7.9.5

